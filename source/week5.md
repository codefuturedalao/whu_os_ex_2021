# week5

## 实验内容

1. 向软盘镜像文件写入一个你自己任意创建的文件，手工方式在软盘中找到指定的文件，读取其扇区信息，记录你的步骤。

2. 将指定的可执行文件装入指定内存区，并执行，记录原理与步骤

3. 学会使用xxd读取二进制信息，通过1、2来验证。

## 实验问题

1. FAT12格式是怎样的？

2. 如何读取一张软盘的信息

3. 如何在软盘中找到指定的文件

4. 如何在系统引导过程中，从读取并加载一个可执行文件到内存，并转交控制权？

5. 为什么需要这个Loader程序不包含dos系统调用？

6. 扩展提高：调研在硬盘上，文件系统格式为FAT32或者NTFS，应该怎么来实现类似功能呢？（可粗略参阅第9章）

## 实验步骤

### 阅读文档

阅读[FAT12文档](https://www.eit.lth.se/fileadmin/eit/courses/eitn50/Literature/fat12_description.pdf)，对FAT12文件系统有大致的了解，熟悉如何区分目录和文件，如何根据FAT表获取文件全部内容，

### 跟书实践

跟着书上做即可，这章比较简单，但内容较多，希望同学们仔细看书体会。🤣

## FAQ

### Q：为什么我自己的文件内容不是从0x4200开始？

需要检查文件条目对应的开始簇号，书中的例子为0x0002，因此计算得到文件内容从0x4200开始，假如为0x0003，则对应内容从0x4400开始。